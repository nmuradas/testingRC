/* assets/css/styles.css */

/* 1. FUENTES */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap');

/* 2. VARIABLES */
:root {
    --color-brand: #09090b; 
    --color-secondary: #71717a;
    --color-bg: #ffffff;
    --color-surface: #f4f4f5;
    --color-border: #e4e4e7;
}

/* 3. REGLAS GLOBALES */
html { font-size: 16px; }
body {
    font-family: 'Plus Jakarta Sans', sans-serif;
    background-color: var(--color-bg);
    color: var(--color-brand);
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
}

h1, h2, h3, h4, h5, h6, .font-serif {
    font-family: 'Playfair Display', serif;
    color: var(--color-brand);
}

/* 4. HERO SECTION */
.hero-section {
    background-image: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop');
    background-size: cover;
    background-position: center;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: white !important;
}
.hero-section h1, .hero-section i { color: white !important; }

/* 5. BUSCADOR FLOTANTE */
.glass-search {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.2);
}
.glass-search input, .glass-search select { background: transparent; border: none; color: var(--color-brand); }
.glass-search label { color: var(--color-secondary); }
.glass-search .border-r, .glass-search .border-b { border-color: transparent; }

/* 6. NAVBAR */
nav {
    background-color: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--color-border) !important;
}
nav a, nav span { color: var(--color-brand); }

/* 7. COMPONENTES GENÉRICOS */
input, select, textarea {
    background-color: #ffffff;
    color: var(--color-brand);
    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
}
input:focus, select:focus, textarea:focus { outline: none; border-color: var(--color-brand); }

.bg-black, .bg-brand { background-color: var(--color-brand) !important; color: #ffffff !important; border: none; }
.badge-pending { background-color: #FEF9C3; color: #854D0E; border: 1px solid #FEF08A; }
.badge-approved { background-color: #DCFCE7; color: #166534; border: 1px solid #BBF7D0; }
.badge-rejected { background-color: #FEE2E2; color: #991B1B; border: 1px solid #FECACA; }

/* 8. MAPAS */
#map, #edit-map, #product-map {
    min-height: 250px;
    width: 100%;
    border-radius: 0.5rem;
    z-index: 0;
    border: 1px solid var(--color-border);
}

/* 9. ESTILOS ADICIONALES (Footer, Tablas) */
footer { background-color: var(--color-surface) !important; border-top: 1px solid var(--color-border) !important; color: var(--color-brand) !important; }
footer .text-white, footer h4 { color: var(--color-brand) !important; }
footer .bg-brand { color: #ffffff !important; }

table, tbody, thead, tr { border: none !important; }
table th, table td { border-bottom: 1px solid #e4e4e7 !important; padding: 16px 24px !important; }
table thead th { background-color: #f9fafb !important; color: #71717a !important; font-weight: 700 !important; font-size: 0.75rem; text-transform: uppercase; }

/* 10. CHAT GLOBAL FIX (PC & MOBILE) */
#chat-body {
    flex: 1 !important;
    overflow-y: auto !important;
    min-height: 0 !important;
}
#view-messages { overflow: hidden !important; }

/* --- RESTAURACIÓN SECCIÓN CONFIANZA Y TARJETAS --- */
.bg-dark { 
    background-color: #09090b !important; 
    color: #ffffff !important; 
}

.bg-dark h2, .bg-dark h3, .bg-dark .font-serif, .bg-dark i { 
    color: #ffffff !important; 
}

.bg-dark p, .bg-dark .text-gray-400 { 
    color: #a1a1aa !important; 
}

/* Tarjetas con efecto cristal y elevación (Efecto Botón) */
.bg-dark .bg-white\/5 {
    background-color: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
}

.bg-dark .bg-white\/5:hover {
    background-color: rgba(255, 255, 255, 0.12) !important;
    transform: translateY(-8px);
    border-color: rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 20px 40px rgba(0,0,0,0.5);
}

/* Color para los iconos de la sección confianza */
.bg-dark .bg-pink-600 {
    background-color: #be185d !important; /* Rosa/Cereza de tu diseño */
}

/* ========================================= */
/* --- 13. RESPONSIVE & MOBILE FIXES ---     */
/* ========================================= */

/* PC (Pantallas grandes) */
@media (min-width: 768px) {
    .hero-section { height: 85vh !important; min-height: 600px !important; padding-top: 0 !important; }
    .glass-search { border-radius: 9999px !important; padding: 0.5rem !important; max-width: 56rem !important; display: flex; flex-direction: row; }
    .glass-search > div:not(:last-child) { border-right: 1px solid var(--color-border); }
    #view-messages { height: calc(100vh - 160px) !important; }
}

/* MÓVIL (Celulares) */
@media (max-width: 767px) {
    
    /* A. NAVBAR */
    nav a span.text-2xl { display: none !important; }
    nav a.bg-black { padding: 8px 12px !important; font-size: 0.75rem !important; }

    /* B. HERO */
    .hero-section { height: auto !important; min-height: 100vh !important; padding-top: 100px !important; padding-bottom: 60px !important; }

    /* C. BARRA INFERIOR (BOTTOM BAR) */
    aside.hidden {
        display: flex !important;
        position: fixed !important; bottom: 0 !important; left: 0 !important;
        width: 100% !important; height: 75px !important;
        background-color: #ffffff !important;
        border-top: 1px solid #e4e4e7 !important;
        z-index: 9999 !important;
        flex-direction: row !important;
        padding: 0 !important;
        justify-content: space-around !important;
        align-items: center !important;
        box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
    }
    aside > div:first-child > div:first-child, aside nav > p, aside > div:last-child { display: none !important; }
    aside > div:first-child, aside nav { width: 100% !important; display: flex !important; flex-direction: row !important; justify-content: space-around !important; align-items: center !important; margin: 0 !important; }
    
    /* SEGURIDAD: Solo mostrar Admin si no está oculto por JS */
    #admin-menu:not(.hidden) { display: contents !important; }
    #admin-menu.hidden { display: none !important; }

    /* Estilo General Botones */
    aside button { flex: 1 !important; display: flex !important; flex-direction: column !important; align-items: center !important; justify-content: center !important; background: transparent !important; border: none !important; padding: 5px !important; gap: 2px !important; color: #a1a1aa !important; min-width: 0 !important; }
    aside button i { font-size: 1.3rem !important; margin: 0 !important; }
    aside button span { font-size: 9px !important; font-weight: 700 !important; white-space: nowrap !important; }
    aside button.bg-gray-100 { background: transparent !important; color: #000000 !important; }

    /* FIX BOTÓN ADMIN (SOLO ICONO) */
    #btn-admin { 
        flex: 1 !important; 
        display: flex !important; 
        flex-direction: column !important; 
        align-items: center !important; 
        justify-content: center !important; 
        color: #ef4444 !important; /* Rojo */
    }
    #btn-admin span { display: none !important; } /* Ocultar texto "Admin" */
    #btn-admin i { font-size: 1.5rem !important; } /* Icono más grande */

    /* D. MENSAJES (MÓVIL - ESTILO CAPAS WHATSAPP) */
    #view-messages {
        height: calc(100dvh - 175px) !important; 
        margin-top: 5px !important;
        border: 1px solid var(--color-border) !important;
        border-radius: 12px !important;
    }

    #view-messages .grid {
        display: block !important;
        position: relative !important;
        height: 100% !important;
    }

    /* Lista de hilos ocupa 100% */
    #view-messages .col-span-12.md\:col-span-4 {
        width: 100% !important;
        height: 100% !important;
        display: block !important;
    }

    /* Chat abierto flota encima de todo */
    #chat-active-view {
        position: fixed !important;
        top: 0 !important; left: 0 !important;
        width: 100vw !important; height: 100dvh !important;
        background: white !important;
        z-index: 99999 !important;
        flex-direction: column !important;
    }

    #chat-body { padding-bottom: 80px !important; }

    /* E. OTROS */
    main { padding-bottom: 90px !important; padding-left: 16px !important; padding-right: 16px !important; }
    .glass-search { width: 100% !important; border-radius: 20px !important; padding: 15px !important; flex-direction: column !important; gap: 10px; }
    .glass-search > div:not(:last-child) { border-bottom: 1px solid #f4f4f5; width: 100%; }
    input, select, textarea { font-size: 16px !important; padding: 12px !important; }
    .grid-cols-2, .grid-cols-4 { grid-template-columns: 1fr 1fr !important; gap: 10px !important; }
    footer .grid-cols-4 { display: flex !important; flex-direction: column !important; text-align: center !important; gap: 30px !important; }

        /* Asegura que los botones del nav tengan espacio entre sí en el celu */
    #nav-right {
        gap: 0px !important;
        display: flex !important;
        align-items: center !important;
    }
    
    /* Achicamos un pelín el texto en móviles muy angostos para que entre todo */
    #nav-right a {
        font-size: 14px !important;
        padding-left: 6px !important;
        padding-right: 10px !important;
    }
    /* MEJORA VISUAL BUSCADOR MÓVIL */
.glass-search {
    background: #ffffff !important;
    border: 1px solid var(--color-border) !important;
}

/* Le damos un fondo gris muy tenue a cada caja para que se distingan */
.glass-search > div {
    background-color: #f9fafb !important; /* Gris ultra claro */
    margin-bottom: 8px !important;
    border-radius: 12px !important;
    border: 1px solid #f1f1f1 !important;
}

/* Forzamos que el texto y placeholder se vean */
.glass-search input::placeholder {
    color: #a1a1aa !important;
    font-weight: 400 !important;
}

.glass-search input {
    color: var(--color-brand) !important;
    padding-left: 0 !important; /* Reset para que no se desalinee */
}


}

/* FIX ICONOS EN LOGIN/REGISTER */
.relative i.fa-envelope, 
.relative i.fa-lock, 
.relative i.fa-user {
    position: absolute !important;
    left: 14px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 10 !important;
    color: #a1a1aa !important;
}

/* Empujamos el texto hacia la derecha para que no toque el icono */
input[type="email"], 
input[type="password"], 
input[type="text"] {
    padding-left: 45px !important; /* Espacio sagrado para el icono */
}

/* FIX GLOBAL PARA INPUTS CON ICONOS */
.relative i {
    color: #94a3b8 !important; /* Gris suave */
    pointer-events: none; /* Para que el click pase al input */
}

/* Forzamos el espacio a la izquierda en login y register */
#login-form input, 
#register-form input {
    padding-left: 45px !important;
}

/* Si usas formularios fuera de esos IDs, usa esta clase general */
.input-with-icon {
    padding-left: 45px !important;
}
